<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
  <title>Buscador</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">
  <script src="https://code.jquery.com/jquery-3.1.0.min.js"
    integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
  <link rel="stylesheet" href="css/ion.rangeSlider.css">
  <link rel="stylesheet" href="css/ion.rangeSlider.skinFlat.css">
  <script src="js/ion.rangeSlider.min.js"></script>
  <link rel="stylesheet" href="css/app.css">
</head>

<body>
  <div class="navbar-fixed">
    <nav>
      <div class="blue darken-3 nav-wrapper center-align">
        <h4>Buscador de Propiedades</h4>
      </div>
    </nav>
  </div>
  <div class="row">
    <div class="col m4">
      <div class="card horizontal">
        <div class="container center-align">
          <div class="switch">
            <h5>Busqueda Personalizada: </h5>
            <label>
              Desactivada
              <input type="checkbox" id="checkPersonalizada">
              <span class="lever"></span>
              Activada
            </label>
          </div>
          <!--  Busqueda personalizada -->
          <div class="row invisible" id="personalizada">
            <div class="row">
              Ciudad:
              <select id="ciudad">
                <option value="" selected>Escoge una ciudad</option>
                <%= city = [] %>
                <% for (var i = 0; i < datos.length; i++) { %>
                  <%  console.log(datos[i].Ciudad, city.indexOf(datos[i].Ciudad)) %>
                <% if(city.indexOf(datos[i].Ciudad)==-1) {%>
                  <%  city.push(datos[i].Ciudad)%>
                <option value="<%= city[i] %>"><%= city[i] %></option>
                <%  console.log(city[i]) %>
                <% } %>
                <% } %>
              </select>
            </div>
            <div class="row">
              Tipo:
              <select id="tipo">
                <option value="" selected>Escoge un tipo</option>
                <%= tipos = [] %>
                <% for (var i = 0; i < datos.length; i++) { %>
                <% if(tipos.indexOf(datos[i].Tipo)==-1) {%>
                  <%  tipos.push(datos[i].Tipo)%>                  
                <option value="<%= tipos[i] %>"><%= tipos[i] %></option> 
                <%  console.log(tipos[i]) %>           
                <% } %>
                <% } %>
              </select>
            </div>
            

            <div class="row">
              Precio:
              <input type="text" id="rangoPrecio">
            </div>
          </div>

          <button id="buscar" class="btn waves-effect waves-light blue" type="button">Ver Todos</button>
        </div>
      </div>
    </div>
    <div class="col m8 lista">
      <% if (datos) { %>
      <% for(var i = 0; i < datos.length; i++) { %>
      <div class="card horizontal">
        <div class="card-image">
          <img src="img/home.jpg">
        </div>
        <div class="card-stacked">
          <div class="card-content">
            <div>
              <b>Direccion: </b><%= datos[i].Direccion %><p></p>
            </div>
            <div>
              <b>Ciudad: </b><%= datos[i].Ciudad %><p></p>
            </div>
            <div>
              <b>Telefono: </b><%= datos[i].Telefono %><p></p>
            </div>
            <div>
              <b>Código postal: </b><%= datos[i].Codigo_postal %><p></p>
            </div>
            <div>
              <b>Precio: </b><%= datos[i].Precio %><p></p>
            </div>
            <div>
              <b>Tipo: </b><%= datos[i].Tipo %><p></p>
            </div>
          </div>
        </div>
        <div class="card-action right-align">
          <a href="#">Ver más</a>
        </div>
      </div>
      <% } %>
      <% } %>

    </div>


  </div>
  </div>

  <script src="js/app.js"></script>
</body>

</html>